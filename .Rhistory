knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
getwd()
sentence <- read_csv("Sentencing.csv")
glimose(sentence)
glimpse(sentence)
count(sentence$OFFENSE_TITLE)
table(sentence$OFFENSE_TITLE)
table(Sentence$SENTENCE_TYPE)
table(sentence$SENTENCE_TYPE)
hist(sentence$AGE_AT_INCIDENT)
hist(sentence$AGE_AT_INCIDENT)
table(sentence$GENDER)
glimpse(sentence)
table(sentence$LAW_ENFORCEMENT_AGENCY)
glimpse(sentence)
table(sentence$LAW_ENFORCEMENT_AGENCY)
glimpse(sentence)
table(sentence$INCIDENT_CITY)
glimpse(sentence)
unique(sentence$INCIDENT_CITY)
View(senence)
View(sentence)
table(sentence$SENTENCE_TYPE)
sentence_female <- filter(sentence, GENDER == "Female") ## == means exactly equal to
sentence_under21 <- filter(sentence, AGE_AT_INCIDENT =< 21) ## =< means less than or equal o
sentence_probation <- filter(sentence, SENTENCE_TYPE %IN% c("Probation", "2nd Chance Probation"))
colnames(sentence)
table(sentence $RACE)
table(sentence $RACE, useNA="always")
length(unique(sentence$OFFENSE_TITLE))
unique(sentence$OFFENSE_TITLE)
table(sentence$PRIMARY_CHARGE)
View(sentence)
table(table(sentence$CASE_ID))
table(table(sentence$CASE_ID, useNA="always"))
sentence %>% group_by(CASE_ID, PRIMARY_CHARGE) %>% summarize(count=n())
x <- sentence %>% group_by(CASE_ID, PRIMARY_CHARGE) %>% summarize(count=n())
table(x$count[which(x$PRIMARY_CHARGE=="true")])
table(sentence$CASE_ID)
table(sentence$PRIMARY_CHARGE)
x <- sentence %>% group_by(CASE_ID, PRIMARY_CHARGE) %>% summarize(count=n())
length(unique(sentence$CASE_ID))
nrow(sentence)
ggplot(sentence, aes(AGE_AT_INCIDENT)) + geom_hist()
ggplot(sentence, aes(AGE_AT_INCIDENT)) + geom_histogram()
ggplot(sentence, aes(AGE_AT_INCIDENT)) + geom_histogram()
n_distinct()
?n_distinct()
n_distinct(sentence, CASE_ID)
n_distinct(sentence$CASE_ID)
ncol(sentence)
nrow(sentene)
nrow(sentence)
colnames(sentence)
nrow(unique(sentence[,c("CASE_ID", "CHARGE_ID")]))
nrow(sentence)
length(unique$CHARGE_ID)
length(unique(sentence$CHARGE_ID))
hist(sentence$AGE_AT_INCIDENT)
sentence %>% group_by(CHARGE_ID) %>% summarize(AGE_AT_INCIDENT = AGE_AT_INCIDENT)
sentence %>% group_by(CHARGE_ID) %>% summarize(AGE = mean(AGE_AT_INCIDENT))
sentence %>% group_by(CHARGE_ID) %>% summarize(AGE = mean(AGE_AT_INCIDENT, count=n())
)
sentence %>% group_by(CHARGE_ID) %>% summarize(age = mean(AGE_AT_INCIDENT, count=n())) %>% ggplot(aes(age, count)) + geom_point()
sentence %>% group_by(CHARGE_ID) %>% summarize(age = mean(AGE_AT_INCIDENT), count=n()) %>% ggplot(aes(age, count)) + geom_point()
sentence %>% group_by(CHARGE_ID) %>%
summarize(age = mean(AGE_AT_INCIDENT), count=n())
sentence %>% group_by(CHARGE_ID, AGE_AT_INCIDENT) %>%
summarize(count=n()) %>%
ggplot(aes(AGE_AT_INCIDENT, count)) + geom_point()
sentence %>% group_by(CASE_ID, AGE_AT_INCIDENT) %>%
summarize(count=n()) %>%
ggplot(aes(AGE_AT_INCIDENT, count)) + geom_point()
sentence %>% group_by(CASE_ID) %>%
summarize(age = mean(AGE_AT_INCIDENT), count=n()) %>%
ggplot(aes(age, count)) + geom_point()
sentence %>% group_by(CHARGE_ID) %>% summarize(age = mean(AGE_AT_INCIDENT), count=n()) %>% ggplot(aes(age, count)) + geom_point()
sentence %>% group_by(CASE_ID) %>%
summarize(age = mean(AGE_AT_INCIDENT), count=n()) %>%
ggplot(aes(age, count)) + geom_point()
sentence %>% group_by(CASE_ID, AGE_AT_INCIDENT) %>%
summarize(count=n()) %>%
ggplot(aes(count)) + geom_hist()
sentence %>% group_by(CASE_ID, AGE_AT_INCIDENT) %>%
summarize(count=n()) %>%
ggplot(aes(count)) + geom_histogram()
sentence %>% group_by(CASE_ID, AGE_AT_INCIDENT) %>%
summarize(count=n()) %>%
filter(count < 30) %>%
ggplot(aes(count)) + geom_histogram()
sentence %>% group_by(CASE_ID, AGE_AT_INCIDENT) %>%
summarize(count=n()) %>%
filter(count < 15) %>%
ggplot(aes(count)) + geom_histogram()
cases <- group_by(sentence, CASE_ID)
summarize(cases, avg_age = mean(AGE_AT_INCIDENT), count=n())
ls()
dir()
initiation <- read_csv("Initiation.csv")
View(initiation)
glimpse(sentence)
table(sentensentences %>% group_by(CASE_PARTICIPANT_ID) %>% summarize(n_distinct(CASE_ID))
)
sentences %>% group_by(CASE_PARTICIPANT_ID) %>% summarize(n_distinct(CASE_ID))
sentences %>% group_by(CASE_PARTICIPANT_ID) %>% summarize(n_distinct(CASE_ID))
sentences %>% group_by(CASE_PARTICIPANT_ID)
sentences
sentence
sentence %>% group_by(CASE_PARTICIPANT_ID)
sentence %>% group_by(CASE_PARTICIPANT_ID) %>% summarize(n_distinct(CASE_ID))
sentence %>% group_by(CASE_PARTICIPANT_ID) %>% summarize(test = n_distinct(CASE_ID)) %>% filter(test > 1)
colnames(sentence)
mean(cases$AGE_AT_INCIDENT)
median(cases$LENGTH_OF_CASE_in_Days)
mode(cases$RACE)
cases <- distinct(cases)
cases <- distinct(cases)
dim(cases)
median(cases$LENGTH_OF_CASE_in_Days, na.rm=TRUE)
mean(cases$AGE_AT_INCIDENT, na.rm=TRUE)
mode(cases$RACE)
?median
?mean
table(cases$RACE)
prop.table(table(cases$GENDER))
glimpse(cases)
table(cases$INCIDENT_CITY == "Chicago")
prop.table(table(cases$INCIDENT_CITY == "Chicago"))
fivenum(cases$LENGTH_OF_CASE_in_Days, na.rm=TRUE)
range(cases$COMMITMENT_TERM)
range(cases$COMMITMENT_TERM, na.rm=TRUE)
hist(cases$COMMITMENT_TERM, na.rm=TRUE)
range(cases$LENGTH_OF_CASE_in_Days)
range(cases$LENGTH_OF_CASE_in_Days, na.rm=TRUE)
nrow(cases[,which(cases$LENGTH_OF_CASE_in_Days < 0)])
nrow(cases[which(cases$LENGTH_OF_CASE_in_Days < 0),])
cases <- select(sentence, CASE_ID, CASE_PARTICIPANT_ID, AGE_AT_INCIDENT,
GENDER, RACE, LENGTH_OF_CASE_in_Days, INCIDENT_CITY)
ncol(cases)
cases <- distinct(cases)
dim(cases)
cases$INCIDENT_CITY == "Chicago"
prop.table(table(cases$INCIDENT_CITY == "Chicago", useNA="always"))
mean(cases$AGE_AT_INCIDENT, na.rm=TRUE)
median(cases$AGE_AT_INCIDENT, na.rm=TRUE)
cases$race
table(cases$RACE)
sentence <- mutate(sentence, HISPANIC = ("Hispanic" %in% RACE))
glimpse(senence)
glimpse(sentence)
table(sentence$RACE, sentence$HISPANIC)
?contains()
sentence <- mutate(sentence, HISPANIC = RACE %in% c("HISPANIC", "White [Hispanic or Latino]", "White/Black [Hispanic or Latino]"))
table(sentence$RACE, sentence$HISPANIC)
glimpse(sentence)
ifelse(5 > 2, "Yes!", "No!")
100/7
100/8
